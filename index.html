<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kontak Telepon</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üì± Kontak Telepon</h1>
            <p>Jangan biarkan jarak memisahkan, Kelola kontak dengan mudah dan temukan someone to talk kapan pun kamu butuh.</p>
        </div>

        <div class="main-content">
            <div class="form-section">
                <h2 id="formTitle">Tambah Kontak Baru</h2>
                <form id="contactForm">
                    <div class="form-group">
                        <label for="name">Nama <span class="required">*</span></label>
                        <input type="text" id="name" name="name" required placeholder="Masukkan nama lengkap">
                    </div>

                    <div class="form-group">
                        <label for="phone">Nomor Telepon <span class="required">*</span></label>
                        <input type="tel" id="phone" name="phone" required placeholder="Contoh: +62 111 222 333">
                    </div>

                    <div class="form-group">
                        <label for="email">Tambahkan Email <span class="optional">(opsional)</span></label>
                        <input type="email" id="email" name="email" placeholder="nama@email.com">
                    </div>

                    <div class="form-group">
                        <label for="message">Pesan/Catatan <span class="optional">(opsional)</span></label>
                        <textarea id="message" name="message" rows="4" placeholder="Tambahkan catatan tentang kontak ini..."></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary" id="submitBtn">
                        Simpan Kontak
                    </button>
                    <button type="button" class="btn btn-secondary" id="cancelBtn" style="display: none;">
                        Batal
                    </button>
                </form>
            </div>

            <div class="contacts-section">
                <div class="contacts-header">
                    <h2>üìã Daftar Kontak</h2>
                </div>
                <div class="contacts-list">
                    <input type="text" class="search-box" id="searchBox" placeholder="üîç Telusuri Kontak...">
                    <div id="contactsList">
                        <div class="empty-state">
                            <div style="font-size: 4em; margin-bottom: 20px; opacity: 0.3;">üì±</div>
                            <h3>Belum ada kontak</h3>
                            <p>Cari someone to talk? Isi form di kiri dan temukan teman curhat terbaikmu!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // menambahkan elemen - elemen html
            const form = document.getElementById('contactForm');
            const nameInput = document.getElementById('name');
            const phoneInput = document.getElementById('phone');
            const emailInput = document.getElementById('email');
            const messageInput = document.getElementById('message');
            const submitBtn = document.getElementById('submitBtn');
            const cancelBtn = document.getElementById('cancelBtn');
            const formTitle = document.getElementById('formTitle');
            const searchBox = document.getElementById('searchBox');
            const contactsList = document.getElementById('contactsList');

        // mendeklarasikan variabel
            let contacts = [];
            let editingIndex = null;

        // Fungsi hapus pesan "Belum ada kontak"
            function removeEmptyState() {
            const empty = document.querySelector('.empty-state');
        if (empty) empty.remove();
        }

        // Tampilkan kontak (atau daftar hasil pencarian)
            function showContacts(filteredContacts = contacts) {
                contactsList.innerHTML = '';
               if (filteredContacts.length === 0) {
            contactsList.innerHTML = `
            <div class="empty-state">
                <div style="font-size:4em; margin-bottom:20px; opacity:0.3;">üì±</div>
                <h3>Belum ada kontak</h3>
                <p>Cari someone to talk? Isi form di kiri dan temukan teman curhat terbaikmu!</p>
            </div>`;
        return;
    }

        filteredContacts.forEach((contact, index) => {
            const card = document.createElement('div');
            card.className = 'contact-card';
                let html = `<h3>${contact.name}</h3>`;
                html += `<p>üìû ${contact.phone}</p>`;
           if (contact.email) html += `<p>‚úâ ${contact.email}</p>`;
           if (contact.message) html += `<p>üìù ${contact.message}</p>`;
           html += `
            <div class="contact-actions">
                <button class="btn btn-edit" onclick="editContact(${index})">‚úèÔ∏è Edit</button>
                <button class="btn btn-delete" onclick="deleteContact(${index})">üóëÔ∏è Hapus</button>
            </div>
            `;
                card.innerHTML = html;
                contactsList.appendChild(card);
           });
        }

        // Tambah atau update kontak saat submit form
            form.addEventListener('submit', e => {
            e.preventDefault();

            const name = nameInput.value.trim();
            const phone = phoneInput.value.trim();
            const email = emailInput.value.trim();
            const message = messageInput.value.trim();

        if(name === '' || phone === '') {
            alert('Nama dan Nomor Telepon wajib diisi!');
            return;
        }

        const newContact = {name, phone, email, message};

        if(editingIndex !== null) {
            contacts[editingIndex] = newContact;
            editingIndex = null;
            submitBtn.textContent = 'Simpan Kontak';
            formTitle.textContent = 'Tambah Kontak Baru';
            cancelBtn.style.display = 'none';
        } else {
            contacts.push(newContact);
        }

        form.reset();
        showContacts();
    });

        // Tombol batal untuk membatalkan edit
            cancelBtn.addEventListener('click', () => {
            form.reset();
            editingIndex = null;
            submitBtn.textContent = 'Simpan Kontak';
            formTitle.textContent = 'Tambah Kontak Baru';
            cancelBtn.style.display = 'none';
    });

        // Fungsi edit kontak
           function editContact(index) {
                const contact = contacts[index];
                nameInput.value = contact.name;
                phoneInput.value = contact.phone;
                emailInput.value = contact.email;
                messageInput.value = contact.message;

        editingIndex = index;
        submitBtn.textContent = 'Update Kontak';
        formTitle.textContent = 'Edit Kontak';
        cancelBtn.style.display = 'inline-block';
    }

        // Fungsi hapus kontak
           function deleteContact(index) {
                if(confirm('Yakin ingin menghapus kontak ini?')) {
                    contacts.splice(index, 1);
                    showContacts();
        }
    }

        // Filter kontak berdasarkan pencarian
            searchBox.addEventListener('input', () => {
            const keyword = searchBox.value.toLowerCase();
            const filtered = contacts.filter(contact => {
                return contact.name.toLowerCase().includes(keyword) ||
                   contact.phone.toLowerCase().includes(keyword) ||
                   (contact.email && contact.email.toLowerCase().includes(keyword)) ||
                   (contact.message && contact.message.toLowerCase().includes(keyword));
        });
        showContacts(filtered);
    });

        // Agar fungsi editContact dan deleteContact bisa dipanggil dari HTML (onclick)
            window.editContact = editContact;
            window.deleteContact = deleteContact;

        // Tampilkan kontak pertama kali saat halaman dimuat
            showContacts();
        </script>
    </body>
</html>